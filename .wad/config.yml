# WAD Configuration
# Docker compose template: .wad/compose.yml
# Environment variables:   .wad/.env (gitignored)

version: 3

# Environment name generator (used by: wad new "<prompt>")
namegen:
  # Local image built by `wad init` (rebuilt automatically if missing)
  image: wad-namegen:local
  # Target max time for name sampling; if exceeded, wad will fall back to local slugification
  timeout_seconds: 2

ports:
  increment: 10
  exposed:
    APP: 8080

# Services started automatically by `wad new` (and manually by `wad run`)
services:
  app:
    name: app
    workdir: /workspace
    command: echo "Configure your app command"
    log: /tmp/app.log

# Goose settings (runs inside the devcontainer)
agent:
  type: goose

  # Extra env vars for goose (gitignored by default)
  env_file: .wad/agent.env

  # tmux session name used for attach
  session_name: wad-agent

  goose:
    # Directory containing goose global config (gitignored by default).
    # This is copied into /root/.config/goose at container start.
    config_dir: .wad/goose
